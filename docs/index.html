<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Komo</title>
	<meta name="description" content="Documentation for Komo">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Komo</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>Komo</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p align="left">
					<a href="http://github.com/blujedis/komo"><img src="https://raw.githubusercontent.com/blujedis/komo/master/fixtures/logo.png" width="225" /></a>
				</p>
				<p>React form helper</p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>Install the package.</p>
				<pre><code class="language-sh">$ npm install komo -s</code></pre>
				<p>OR</p>
				<pre><code class="language-sh">$ yarn add komo</code></pre>
				<a href="#running-examples" id="running-examples" style="color: inherit; text-decoration: none;">
					<h2>Running Examples</h2>
				</a>
				<p>I would encourage you to look at the examples in <code>src/example</code>. You can also clone the repository source then run these examples. Form validation no matter your effort can get complicated. Komo works hard to simplify that but in the end some things just require more control. The examples will help you work through those use cases!</p>
				<pre><code class="language-sh">$ git <span class="hljs-built_in">clone</span> https://github.com/blujedis/komo.git
$ yarn install
$ yarn start</code></pre>
				<a href="#the-basics" id="the-basics" style="color: inherit; text-decoration: none;">
					<h2>The Basics</h2>
				</a>
				<p>Below we import react and komo then initialize the useForm hook.
				We create our <code>form</code> element and the elements we need for our form inputs. We&#39;ll do a more complete example below but let&#39;s take it in steps so it&#39;s easier to make sense of.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">import</span> React, { FC } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> useForm <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;komo&#x27;</span>;

<span class="hljs-keyword">const</span> MyForm: FC = <span class="hljs-function">() =&gt;</span> {

  <span class="hljs-keyword">const</span> { register } = useForm();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">noValidate</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;firstName&quot;</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;firstName&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{register}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );

};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> MyForm;</code></pre>
				<a href="#error-component" id="error-component" style="color: inherit; text-decoration: none;">
					<h3>Error Component</h3>
				</a>
				<p>This is just a simple example of what you can do watching our error state to display feedback to the user. The sky is really the limit but this will give you the idea.</p>
				<pre><code class="language-jsx">  <span class="hljs-keyword">const</span> <span class="hljs-built_in">Error</span> = <span class="hljs-function">(<span class="hljs-params">{ name }</span>) =&gt;</span> {

    <span class="hljs-keyword">const</span> prop = state.errors &amp;&amp; state.errors[name];

    <span class="hljs-comment">// No error at this key just return null.</span>
    <span class="hljs-keyword">if</span> (!prop || !prop.length)
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">const</span> err = prop[<span class="hljs-number">0</span>];

    <span class="hljs-comment">// Simply return a div colored red with the error message.</span>
    <span class="hljs-comment">// See below for error object properties.</span>
    <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> &#x27;<span class="hljs-attr">red</span>&#x27; }}&gt;</span>{err.message}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>);

  };</code></pre>
				<a href="#form-submission" id="form-submission" style="color: inherit; text-decoration: none;">
					<h3>Form Submission</h3>
				</a>
				<p>We&#39;ll create a simple handler, it won&#39;t do much, that&#39;s up to you but let&#39;s how to wire up the handle submit function so that you can submit your form.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">const</span> onSubmit = <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (state.isSubmitted) <span class="hljs-comment">// no need to submit again.</span>
    <span class="hljs-keyword">return</span>; 
  <span class="hljs-built_in">console</span>.log(model); <span class="hljs-comment">// display our model data.</span>
};</code></pre>
				<a href="#complete-example-form" id="complete-example-form" style="color: inherit; text-decoration: none;">
					<h3>Complete Example Form</h3>
				</a>
				<p>Not let&#39;s put it all together so you can see it in one place. </p>
				<pre><code class="language-jsx"><span class="hljs-keyword">import</span> React, { FC } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> useForm <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;komo&#x27;</span>;

<span class="hljs-keyword">const</span> MyForm: FC = <span class="hljs-function">() =&gt;</span> {

  <span class="hljs-comment">// Import the Use Form Hook //</span>

  <span class="hljs-keyword">const</span> { register, handleSubmit, handleReset, state } = useForm({

    <span class="hljs-comment">// Simple function to validate our schema.</span>
    <span class="hljs-comment">// If our function returns null/undefined or </span>
    <span class="hljs-comment">// an empty object there is no error.</span>
    <span class="hljs-comment">// if an object with keys and error messages is </span>
    <span class="hljs-comment">// returned your form state will be updated and </span>
    <span class="hljs-comment">// you can use those errors to display messages etc.</span>

    <span class="hljs-comment">// NOTE you can also return a promise. In order for errors</span>
    <span class="hljs-comment">// to be triggered the must be returned as a rejection.</span>

    <span class="hljs-comment">// Could be as simple as Promise.reject(errors);</span>

    <span class="hljs-attr">validationSchema</span>: <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> errors = {};
      <span class="hljs-keyword">if</span> (message.length &lt; <span class="hljs-number">10</span>) 
        errors.message = [<span class="hljs-string">&#x27;Message must be at least 10 characters&#x27;</span>];
      <span class="hljs-keyword">return</span> errors;
    },

    <span class="hljs-comment">// Enable native validation like required, min, max etc...</span>
    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> Not all native validation types are supported</span>
    <span class="hljs-comment">// but the majority of what you need is there!</span>
    <span class="hljs-attr">enableNativeValidation</span>: <span class="hljs-literal">true</span>

  });

  <span class="hljs-comment">// This will handle when a user submits the form.</span>
  <span class="hljs-keyword">const</span> onSubmit = <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (state.isSubmitted) <span class="hljs-comment">// no need to submit again.</span>
      <span class="hljs-keyword">return</span>; 
    <span class="hljs-built_in">console</span>.log(model); <span class="hljs-comment">// display our model data.</span>
  };

  <span class="hljs-comment">// This will dispaly an error if one is present for the provided key/name.</span>
  <span class="hljs-keyword">const</span> <span class="hljs-built_in">Error</span> = <span class="hljs-function">(<span class="hljs-params">{ name }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> prop = state.errors &amp;&amp; state.errors[name];
    <span class="hljs-keyword">if</span> (!prop || !prop.length)<span class="hljs-comment">// No error at this key just return null.</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> err = prop[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> &#x27;<span class="hljs-attr">red</span>&#x27; }}&gt;</span>{err.message}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>); <span class="hljs-comment">// return our err message.</span>

  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>My Form<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

       <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">noValidate</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit(onSubmit)}</span> <span class="hljs-attr">onReset</span>=<span class="hljs-string">{handleReset}</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;firstName&quot;</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;firstName&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{register}</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">&quot;Peter&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;lastName&quot;</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;lastName&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{register}</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">&quot;Gibbons&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span>Email: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{register}</span> <span class="hljs-attr">required</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span>Message: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;message&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{register}</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">&quot;too short&quot;</span> &gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;message&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Reset&quot;</span> /&gt;</span><span class="hljs-symbol">&amp;nbsp;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Submit&quot;</span> /&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );

};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> MyForm;</code></pre>
				<a href="#defaults-amp-options" id="defaults-amp-options" style="color: inherit; text-decoration: none;">
					<h3>Defaults &amp; Options</h3>
				</a>
				<p>There are three ways to set defaults for an element. You can usse the traditional <code>defaultValue</code> prop or <code>defaultChecked</code> in the case of a checkbox. Additionally you can set defaults in your defaults object, lastly you can set defaults in your <code>yup schema</code>.</p>
				<a href="#using-a-prop" id="using-a-prop" style="color: inherit; text-decoration: none;">
					<h4>Using a Prop</h4>
				</a>
				<pre><code class="language-jsx">   &lt;input name=<span class="hljs-string">&quot;firstName&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> ref={register} defaultValue=<span class="hljs-string">&quot;Your_Name_Here&quot;</span> /&gt;</code></pre>
				<a href="#using-defaults-options" id="using-defaults-options" style="color: inherit; text-decoration: none;">
					<h4>Using Defaults Options</h4>
				</a>
				<pre><code class="language-jsx">  <span class="hljs-keyword">const</span> { register } = useForm({
    <span class="hljs-attr">defaults</span>: {
      <span class="hljs-attr">firstName</span>: <span class="hljs-string">&#x27;Your_Name_Here&#x27;</span>
    }
  });</code></pre>
				<p>Komo also supports promises for your defaults. Below we&#39;re just using <code>Promise.resolve</code> but you could use fetch or axios etc to get your data. Note errors are logged to the console but does not stop Komo&#39;s initialization. If an error or no data returned Komo will just initialize with an empty defaults object.</p>
				<pre><code class="language-jsx">  <span class="hljs-keyword">const</span> { register } = useForm({
    <span class="hljs-attr">defaults</span>: <span class="hljs-built_in">Promise</span>.resolve({
      <span class="hljs-attr">firstName</span>: <span class="hljs-string">&#x27;Your_Name_Here&#x27;</span>
    })
  });</code></pre>
				<a href="#using-yup-schema" id="using-yup-schema" style="color: inherit; text-decoration: none;">
					<h4>Using Yup Schema</h4>
				</a>
				<p>When using a yup schema for your <code>validationSchema</code>, Komo will grab the defaults and use them for your form model.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> yup <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;yup&#x27;</span>;

<span class="hljs-keyword">const</span> schema = yup.object({
  <span class="hljs-attr">firstName</span>: string().default(<span class="hljs-string">&#x27;Your_Name_Here&#x27;</span>)
});

<span class="hljs-keyword">const</span> { register } = useForm({
  <span class="hljs-attr">validationSchema</span>: schema
});</code></pre>
				<a href="#registering-with-options" id="registering-with-options" style="color: inherit; text-decoration: none;">
					<h4>Registering with Options</h4>
				</a>
				<p>Komo allows you to register with options as well. For example perhaps you wish to disable ALL validation triggers on a given element. </p>
				<pre><code class="language-jsx">&lt;input name=<span class="hljs-string">&quot;firstName&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> ref={register({ <span class="hljs-attr">validateChange</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">validateBlur</span>: <span class="hljs-literal">false</span>})} /&gt;</code></pre>
				<a href="#nested-data" id="nested-data" style="color: inherit; text-decoration: none;">
					<h4>Nested Data</h4>
				</a>
				<p>Komo allows models with nested data. Any form field can have a mapped path enabling getting and setting from a nested prop.</p>
				<p>The below will map errors in our error model <code>{ firstName: [ error objects here ] }</code> but it&#39;s model data will get/set from the nested path of <code>user.name.first</code>.</p>
				<pre><code class="language-jsx">&lt;input name=<span class="hljs-string">&quot;firstName&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> ref={register({ <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;user.name.first&#x27;</span> })} /&gt;</code></pre>
				<a href="#reinit-after-effect" id="reinit-after-effect" style="color: inherit; text-decoration: none;">
					<h4>Reinit After Effect</h4>
				</a>
				<p>There are cases where you may need to initialize your data after you mount using <strong>useEffect</strong>. Komo exposes a method for this called <code>reinit</code>. This method is used by Komo internally itself.</p>
				<pre><code class="language-tsx">const { reinit } = useForm({
  // options here.
});

useEffect(() =&gt; {

  // some promise or state change data is now available.

  reinit(defaults_from_state);

}, [defaults_from_state]);
</code></pre>
				<a href="#hooks" id="hooks" style="color: inherit; text-decoration: none;">
					<h2>Hooks</h2>
				</a>
				<p>Komo has some built in hooks that make it trivial to wire up to fields or expose your own hooks using the built in <code>withKomo</code> helper.</p>
				<p>Your best bet is to clone the repo then run <code>yarn start</code>. Then navigate to the <strong>/advanced</strong> page. This will give you an idea of some of the cool stuff Komo can do.</p>
				<a href="#usefield-hook" id="usefield-hook" style="color: inherit; text-decoration: none;">
					<h3>useField Hook</h3>
				</a>
				<p>Expose the hook from Komo&#39;s main useForm hook, then call the hook and pass in the form element name you wish to use. Simple as that. Just remember your hook will not have access to the element until Komo has mounted.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">const</span> { useField } = useForm({
  <span class="hljs-comment">// options here excluded for brevity.</span>
});

<span class="hljs-keyword">const</span> firstName = useField(<span class="hljs-string">&#x27;firstName&#x27;</span>);</code></pre>
				<a href="#companion-hook-components" id="companion-hook-components" style="color: inherit; text-decoration: none;">
					<h3>Companion Hook Components</h3>
				</a>
				<p>Below we have an Error Component and a TextInput Component that use the errors exposed from our hook.</p>
				<pre><code class="language-jsx"><span class="hljs-comment">/**
 * Simple component to display our errors.
 * <span class="hljs-doctag">@param </span>props our error component&#x27;s props.
 */</span>
<span class="hljs-keyword">const</span> ErrorMessage = <span class="hljs-function">(<span class="hljs-params">{ errors }</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!errors || !errors.length)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> err = errors[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> &#x27;<span class="hljs-attr">red</span>&#x27;, <span class="hljs-attr">margin:</span> &#x27;<span class="hljs-attr">6px</span> <span class="hljs-attr">0</span> <span class="hljs-attr">10px</span>&#x27; }}&gt;</span>{err.message}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>);
};

<span class="hljs-comment">/**
 * Custom input message text field.
 */</span>
<span class="hljs-keyword">const</span> TextInput = <span class="hljs-function">(<span class="hljs-params">props: InputProps</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { hook, ...clone } = props;
  <span class="hljs-keyword">const</span> { name } = clone;
  <span class="hljs-keyword">const</span> field = props.hook(name);
  <span class="hljs-keyword">const</span> capitalize = <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.charAt(<span class="hljs-number">0</span>).toUpperCase() + v.slice(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{name}</span>&gt;</span>{capitalize(name)}: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{field.register}</span> {<span class="hljs-attr">...clone</span>} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ErrorMessage</span> <span class="hljs-attr">errors</span>=<span class="hljs-string">{field.errors}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};</code></pre>
				<a href="#form-with-hooks" id="form-with-hooks" style="color: inherit; text-decoration: none;">
					<h3>Form with Hooks</h3>
				</a>
				<pre><code class="language-jsx"><span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> {

<span class="hljs-comment">// Create some hooks to our fields</span>
<span class="hljs-keyword">const</span> firstName = useField(<span class="hljs-string">&#x27;firstName&#x27;</span>);
<span class="hljs-keyword">const</span> lastName = useField(<span class="hljs-string">&#x27;lastName&#x27;</span>);

<span class="hljs-comment">// When the first name field blurs set the </span>
<span class="hljs-comment">// focus to the last name field.</span>
<span class="hljs-keyword">const</span> onFirstBlur = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> lastName.focus();

<span class="hljs-comment">// When last name changes manually validate</span>
<span class="hljs-comment">// and display response or error.</span>
 <span class="hljs-keyword">const</span> onLastChange = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    lastName.validate()
      .then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-built_in">console</span>.log.bind(<span class="hljs-built_in">console</span>))
      .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-built_in">console</span>.log.bind(<span class="hljs-built_in">console</span>));
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">noValidate</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit(onSubmit)}</span> <span class="hljs-attr">onReset</span>=<span class="hljs-string">{handleReset}</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;firstName&quot;</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;firstName&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{register}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{onFirstBlur}</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;lastName&quot;</span> <span class="hljs-attr">hook</span>=<span class="hljs-string">{useField}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{onLastChange}</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{lastName.focus}</span>&gt;</span>Set LastName Focus<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{updateLast(</span>&#x27;<span class="hljs-attr">Waddams</span>&#x27;)}&gt;</span>Set LastName to Waddams<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{updateLast(</span>&#x27;&#x27;)}&gt;</span>Set LastName to Undefined<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">JsonErrors</span> <span class="hljs-attr">errors</span>=<span class="hljs-string">{state.errors}</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Reset&quot;</span> /&gt;</span><span class="hljs-symbol">&amp;nbsp;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Submit&quot;</span> /&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );

}</code></pre>
				<a href="#virtual-elements" id="virtual-elements" style="color: inherit; text-decoration: none;">
					<h3>Virtual Elements</h3>
				</a>
				<p>Some times you have a complex component that requires you to create a virtual registration where you might have other bound elements you wish to get values from and/or validate. That&#39;s where virtual elements come in.</p>
				<p>Komo&#39;s hooks make this a snap! Let&#39;s walk through it.</p>
				<a href="#consider-a-nested-model" id="consider-a-nested-model" style="color: inherit; text-decoration: none;">
					<h4>Consider a Nested Model</h4>
				</a>
				<p>Let&#39;s say you want to create a virtual element called <strong>fullName</strong> which is simply a concatenation
				of both <code>name.first</code> and <code>name.last</code>. We only want to trigger validation for fullName.</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> model = {
  <span class="hljs-attr">name</span>: {
    <span class="hljs-attr">first</span>: <span class="hljs-string">&#x27;Milton&#x27;</span>,
    <span class="hljs-attr">last</span>: <span class="hljs-string">&#x27;Waddams&#x27;</span>
  }
}</code></pre>
				<a href="#virtual-component" id="virtual-component" style="color: inherit; text-decoration: none;">
					<h4>Virtual Component</h4>
				</a>
				<p>We create a virtual element below by passing in the second arg in our useField hook
					<code>const fullName = hook(name, true);</code>. This tells Komo not wire up data binding
				events as we typically would for an element.</p>
				<pre><code class="language-tsx">const VirtualField: FC&lt;Props&gt; = ({ name, hook }) =&gt; {

  // Below we create hooks for our Virtual (fullName)

  const fullName = hook(name, true);

  // The below to element hooks are created dynamically.
  // meaning we didn&#39;t pass them into our model.

  const first = hook(&#39;first&#39;);
  const last = hook(&#39;last&#39;);

  // We register our virtual element.
  // Note we derive our default value from
  // the vaules of the two bound elements.

  fullName.register({

    defaultValue: (model) =&gt; {
      if (model.name &amp;&amp; model.name.first &amp;&amp; model.name.last)
        return model.name.first + &#39; &#39; + model.name.last;
      return &#39;&#39;;
    },

    required: true

  });

  // On blur listener to update our virtual element.

  const onBlur = (e) =&gt; {
    // We trim here so we don&#39;t end up with &#39; &#39; as space.
    fullName.update((first.value + &#39; &#39; + last.value).trim());
  };

  // Finally we return our simple component
  // registering our bound elements as usual.

  return (
    &lt;&gt;
      &lt;p&gt;
        &lt;span&gt;Virtual Value: &lt;/span&gt;&lt;span style={{ fontWeight: &#39;bolder&#39; }}&gt;{fullName.value}&lt;/span&gt;
      &lt;/p&gt;

      &lt;label htmlFor=&quot;first&quot;&gt;First Name: &lt;/label&gt;
      &lt;input
        name=&quot;first&quot;
        type=&quot;text&quot;
        onBlur={onBlur}
        ref={first.register({ path: &#39;name.first&#39;, validateBlur: false })} /&gt;

      &lt;br /&gt;&lt;br /&gt;

      &lt;label htmlFor=&quot;last&quot;&gt;Last Name: &lt;/label&gt;
      &lt;input
        name=&quot;last&quot;
        type=&quot;text&quot;
        onBlur={onBlur}
        ref={last.register({ path: &#39;name.last&#39;, validateBlur: false })} /&gt;

      &lt;br /&gt;&lt;br /&gt;

    &lt;/&gt;

  );

};</code></pre>
				<a href="#casting-model" id="casting-model" style="color: inherit; text-decoration: none;">
					<h2>Casting Model</h2>
				</a>
				<p>By default Komo will attemp to cast your data before persisting to model. For example a string of &quot;true&quot; will become an actual boolean <code>true</code>.</p>
				<p>This feature can be disabled by setting <code>options.castHandler</code> to false or null.</p>
				<p>You can also pass your own function that casts the value and simply returns it. </p>
				<p>Although your model will likely be converted to a string using <code>JSON.stringify</code> before posting
				to your server, casting the model value only allows you to do checks against the model state as you&#39;d expect.</p>
				<p>Again if this is not what you want simply disable it.</p>
				<pre><code class="language-ts"><span class="hljs-keyword">const</span> { register } = useForm({
  castHandler: <span class="hljs-function">(<span class="hljs-params">value, path, name</span>) =&gt;</span> {
    <span class="hljs-comment">// do something with value and return.</span>
    <span class="hljs-keyword">return</span> value;
  }
})</code></pre>
				<a href="#ui-libraries" id="ui-libraries" style="color: inherit; text-decoration: none;">
					<h2>UI Libraries</h2>
				</a>
				<p>You can of course use Komo with most UI libraries although they may differ in configuration. Komo aims to give you granular control. It&#39;s up to use to create your own Component wrappers and things to make life easier. This is by design. Otherwise too many opinions get in the way.</p>
				<a href="#material-ui" id="material-ui" style="color: inherit; text-decoration: none;">
					<h3>Material UI</h3>
				</a>
				<p>We&#39;ll show just the form and one input for brevity/clarity but using with Matieral is as simple as passing our register function to Material&#39;s <code>inputRef</code> prop.</p>
				<p><a href="https://material-ui.com/api/text-field/">See More From Material-UI Docs</a></p>
				<pre><code class="language-jsx"><span class="hljs-keyword">import</span> Input <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@material-ui/core/Input&#x27;</span>;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;phone&quot;</span> <span class="hljs-attr">inputRef</span>=<span class="hljs-string">{register({</span> <span class="hljs-attr">path:</span> &#x27;<span class="hljs-attr">numbers.home</span>&#x27; })} <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;Phone&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span></code></pre>
				<a href="#docs" id="docs" style="color: inherit; text-decoration: none;">
					<h2>Docs</h2>
				</a>
				<p>See <a href="https://blujedis.github.io/komo/">https://blujedis.github.io/komo/</a></p>
				<a href="#change" id="change" style="color: inherit; text-decoration: none;">
					<h2>Change</h2>
				</a>
				<p>See <a href="CHANGE.md">CHANGE.md</a></p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>See <a href="LICENSE">LICENSE.md</a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_hooks_.html">&quot;hooks&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_komo_.html">&quot;komo&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_register_.html">&quot;register&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_.html">&quot;types&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_events_.html">&quot;utils/events&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_helpers_.html">&quot;utils/helpers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_index_.html">&quot;utils/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_observer_.html">&quot;utils/observer&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_renders_.html">&quot;utils/renders&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_tools_.html">&quot;utils/tools&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_validate_.html">&quot;validate&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>